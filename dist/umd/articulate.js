!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Articulate=t()}(this,(function(){"use strict";var e,t,n,o,l,r,i={},s=[],u=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(e,t){for(var n in t)e[n]=t[n];return e}function c(e){var t=e.parentNode;t&&t.removeChild(e)}function _(e,t,n){var o,l,r,i=arguments,s={};for(r in t)"key"==r?o=t[r]:"ref"==r?l=t[r]:s[r]=t[r];if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);if(null!=n&&(s.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===s[r]&&(s[r]=e.defaultProps[r]);return p(e,s,o,l,null)}function p(t,n,o,l,r){var i={type:t,props:n,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++e.__v:r};return null!=e.vnode&&e.vnode(i),i}function d(e){return e.children}function f(e,t){this.props=e,this.context=t}function h(e,t){if(null==t)return e.__?h(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?h(e):null}function m(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return m(e)}}function v(l){(!l.__d&&(l.__d=!0)&&t.push(l)&&!g.__r++||o!==e.debounceRendering)&&((o=e.debounceRendering)||n)(g)}function g(){for(var e;g.__r=t.length;)e=t.sort((function(e,t){return e.__v.__b-t.__v.__b})),t=[],e.some((function(e){var t,n,o,l,r,i,s;e.__d&&(i=(r=(t=e).__v).__e,(s=t.__P)&&(n=[],(o=a({},r)).__v=r.__v+1,l=H(s,r,o,t.__n,void 0!==s.ownerSVGElement,null!=r.__h?[i]:null,n,null==i?h(r):i,r.__h),P(n,r),l!=i&&m(r)))}))}function y(e,t,n,o,l,r,u,a,_,f){var m,v,g,y,w,x,k,C=o&&o.__k||s,$=C.length;for(_==i&&(_=null!=u?u[0]:$?h(o,0):null),n.__k=[],m=0;m<t.length;m++)if(null!=(y=n.__k[m]=null==(y=t[m])||"boolean"==typeof y?null:"string"==typeof y||"number"==typeof y?p(null,y,null,null,y):Array.isArray(y)?p(d,{children:y},null,null,null):null!=y.__e||null!=y.__c?p(y.type,y.props,y.key,null,y.__v):y)){if(y.__=n,y.__b=n.__b+1,null===(g=C[m])||g&&y.key==g.key&&y.type===g.type)C[m]=void 0;else for(v=0;v<$;v++){if((g=C[v])&&y.key==g.key&&y.type===g.type){C[v]=void 0;break}g=null}w=H(e,y,g=g||i,l,r,u,a,_,f),(v=y.ref)&&g.ref!=v&&(k||(k=[]),g.ref&&k.push(g.ref,null,y),k.push(v,y.__c||w,y)),null!=w?(null==x&&(x=w),_=b(e,y,g,C,u,w,_),f||"option"!=n.type?"function"==typeof n.type&&(n.__d=_):e.value=""):_&&g.__e==_&&_.parentNode!=e&&(_=h(g))}if(n.__e=x,null!=u&&"function"!=typeof n.type)for(m=u.length;m--;)null!=u[m]&&c(u[m]);for(m=$;m--;)null!=C[m]&&M(C[m],C[m]);if(k)for(m=0;m<k.length;m++)E(k[m],k[++m],k[++m])}function b(e,t,n,o,l,r,i){var s,u,a;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(l==n||r!=i||null==r.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(r),s=null;else{for(u=i,a=0;(u=u.nextSibling)&&a<o.length;a+=2)if(u==r)break e;e.insertBefore(r,i),s=i}return void 0!==s?s:r.nextSibling}function w(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||u.test(t)?n:n+"px"}function x(e,t,n,o,l){var r,i,s;if(l&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||w(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||w(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(r=t!==(t=t.replace(/Capture$/,"")),(i=t.toLowerCase())in e&&(t=i),t=t.slice(2),e.l||(e.l={}),e.l[t+r]=n,s=r?C:k,n?o||e.addEventListener(t,s,r):e.removeEventListener(t,s,r)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!l&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function k(t){this.l[t.type+!1](e.event?e.event(t):t)}function C(t){this.l[t.type+!0](e.event?e.event(t):t)}function $(e,t,n){var o,l;for(o=0;o<e.__k.length;o++)(l=e.__k[o])&&(l.__=e,l.__e&&("function"==typeof l.type&&l.__k.length>1&&$(l,t,n),t=b(n,l,l,e.__k,null,l.__e,t),"function"==typeof e.type&&(e.__d=t)))}function H(t,n,o,l,r,i,s,u,c){var _,p,h,m,v,g,b,w,x,k,C,H=n.type;if(void 0!==n.constructor)return null;null!=o.__h&&(c=o.__h,u=n.__e=o.__e,n.__h=null,i=[u]),(_=e.__b)&&_(n);try{e:if("function"==typeof H){if(w=n.props,x=(_=H.contextType)&&l[_.__c],k=_?x?x.props.value:_.__:l,o.__c?b=(p=n.__c=o.__c).__=p.__E:("prototype"in H&&H.prototype.render?n.__c=p=new H(w,k):(n.__c=p=new f(w,k),p.constructor=H,p.render=z),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=k,p.__n=l,h=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=H.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=a({},p.__s)),a(p.__s,H.getDerivedStateFromProps(w,p.__s))),m=p.props,v=p.state,h)null==H.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==H.getDerivedStateFromProps&&w!==m&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,k),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,k)||n.__v===o.__v){p.props=w,p.state=p.__s,n.__v!==o.__v&&(p.__d=!1),p.__v=n,n.__e=o.__e,n.__k=o.__k,p.__h.length&&s.push(p),$(n,u,t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,k),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(m,v,g)}))}p.context=k,p.props=w,p.state=p.__s,(_=e.__r)&&_(n),p.__d=!1,p.__v=n,p.__P=t,_=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(l=a(a({},l),p.getChildContext())),h||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(m,v)),C=null!=_&&_.type==d&&null==_.key?_.props.children:_,y(t,Array.isArray(C)?C:[C],n,o,l,r,i,s,u,c),p.base=n.__e,n.__h=null,p.__h.length&&s.push(p),b&&(p.__E=p.__=null),p.__e=!1}else null==i&&n.__v===o.__v?(n.__k=o.__k,n.__e=o.__e):n.__e=S(o.__e,n,o,l,r,i,s,c);(_=e.diffed)&&_(n)}catch(t){n.__v=null,(c||null!=i)&&(n.__e=u,n.__h=!!c,i[i.indexOf(u)]=null),e.__e(t,n,o)}return n.__e}function P(t,n){e.__c&&e.__c(n,t),t.some((function(n){try{t=n.__h,n.__h=[],t.some((function(e){e.call(n)}))}catch(t){e.__e(t,n.__v)}}))}function S(e,t,n,o,l,r,u,a){var c,_,p,d,f,h=n.props,m=t.props;if(l="svg"===t.type||l,null!=r)for(c=0;c<r.length;c++)if(null!=(_=r[c])&&((null===t.type?3===_.nodeType:_.localName===t.type)||e==_)){e=_,r[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=l?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),r=null,a=!1}if(null===t.type)h===m||a&&e.data===m||(e.data=m);else{if(null!=r&&(r=s.slice.call(e.childNodes)),p=(h=n.props||i).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!a){if(null!=r)for(h={},f=0;f<e.attributes.length;f++)h[e.attributes[f].name]=e.attributes[f].value;(d||p)&&(d&&(p&&d.__html==p.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}(function(e,t,n,o,l){var r;for(r in n)"children"===r||"key"===r||r in t||x(e,r,null,n[r],o);for(r in t)l&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===t[r]||x(e,r,t[r],n[r],o)})(e,m,h,l,a),d?t.__k=[]:(c=t.props.children,y(e,Array.isArray(c)?c:[c],t,n,o,"foreignObject"!==t.type&&l,r,u,i,a)),a||("value"in m&&void 0!==(c=m.value)&&(c!==e.value||"progress"===t.type&&!c)&&x(e,"value",c,h.value,!1),"checked"in m&&void 0!==(c=m.checked)&&c!==e.checked&&x(e,"checked",c,h.checked,!1))}return e}function E(t,n,o){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,o)}}function M(t,n,o){var l,r,i;if(e.unmount&&e.unmount(t),(l=t.ref)&&(l.current&&l.current!==t.__e||E(l,null,n)),o||"function"==typeof t.type||(o=null!=(r=t.__e)),t.__e=t.__d=void 0,null!=(l=t.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(t){e.__e(t,n)}l.base=l.__P=null}if(l=t.__k)for(i=0;i<l.length;i++)l[i]&&M(l[i],n,o);null!=r&&c(r)}function z(e,t,n){return this.constructor(e,n)}function j(e){this.props=j.props,this.values=e,this.render=()=>j.doRender(this.values)}function L(e){this.values=e,this.render=()=>L.doRender(this.values)}function V(e){this.props=V.props,this.values=e,this.render=()=>V.doRender(this.values)}function A(e){this.props=A.props,this.values=e,this.render=()=>A.doRender(this.values)}e={__e:function(e,t){for(var n,o,l,r=t.__h;t=t.__;)if((n=t.__c)&&!n.__)try{if((o=n.constructor)&&null!=o.getDerivedStateFromError&&(n.setState(o.getDerivedStateFromError(e)),l=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),l=n.__d),l)return t.__h=r,n.__E=n}catch(t){e=t}throw e},__v:0},f.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),"function"==typeof e&&(e=e(a({},n),this.props)),e&&a(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),v(this))},f.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),v(this))},f.prototype.render=d,t=[],n="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,l=i,r=0,j.label="Image",j.icon='<svg viewBox="0 0 24 24"><path d="M21 3H3C2 3 1 4 1 5v14c0 1.1.9 2 2 2h18c1 0 2-1 2-2V5c0-1-1-2-2-2zM5 17l3.5-4.5 2.5 3.01L14.5 11l4.5 6H5z"/></svg>',j.props={source:{defaultValue:"https://images.unsplash.com/photo-1504788363733-507549153474?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1000",type:"image"},caption:{defaultValue:"Park in poznan poland by Erik Witsoe",type:"text"},maxHeight:{defaultValue:"300px",optional:!0,type:"text"},crop:{defaultValue:"fill",optional:!0,type:"choice",choices:["fit","fill"]},edgeCorners:{defaultValue:"none",optional:!0,type:"choice",choices:["none","small","medium","large"]}},j.doRender=function(e){let t="";e.caption&&e.caption.length&&(t=`<small>${e.caption}</small>`);let n=`object-${{fit:"contain",fill:"cover"}[e.crop]||"cover"} `;return n+=`rounded-${{small:"md",medium:"lg",large:"xl"}[e.edgeCorners]} `,e.maxHeight&&(n+="absolute left-0 top-0 w-full h-full "),`\n        <div class="text-center">\n            <div class="relative" style="height: ${e.maxHeight}">\n                <img class="${n}" src="${e.source}" alt="${e.caption}" />\n            </div>\n            ${t}\n        </div>\n    `},j.preview=function(){return j.doRender({source:"https://images.unsplash.com/photo-1504788363733-507549153474?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1000",caption:"Park in poznan poland by Erik Witsoe",edgeCorners:"medium",maxHeight:"200px"})},L.label="Alert",L.icon='<svg viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>',L.props={type:{defaultValue:"info",type:"choice",choices:["info","warning","error"]},title:{defaultValue:null,optional:!0,type:"text"},text:{defaultValue:"Due to many requests from loyalties, we're moving our services out of town.",type:"long-text"}},L.doRender=function(e){let t="";e.caption&&e.caption.length&&e.caption;let n='<svg class="w-5 mt-1 mr-2 -ml-1" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>';"info"!==e.type&&(n='<svg class="w-5 mt-1 mr-2 -ml-1" viewBox="0 0 24 24"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>');let o="";e.title&&(o=`<strong>${e.title}</strong>`);const l={info:"blue",error:"red",warning:"yellow"}[e.type];return`\n        <div class="inline-flex max-w-lg items-start border-l-4 py-2 px-4 bg-${l}-100 border-${l}-500 ${e.type}">\n            ${n}\n            <div class="flex-1">\n                ${o}\n                ${e.text}\n            </div>\n        </div>\n    `},L.preview=function(){return L.doRender({type:"info",title:"Pssst",text:"Due to many requests from loyalties, we're moving our services out of town."})},V.label="Quote",V.icon='<svg viewBox="0 0 24 24"><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/></svg>',V.props={text:{defaultValue:"It takes a great deal of bravery to stand up to our enemies, but just as much to stand up to our friends when they bout to get into some mischief. And so I ward ten points to Neville and gryfindorðŸª„",type:"long-text"},author:{defaultValue:"A. P. W. B. Dumbledore",optional:!0,type:"text"},year:{defaultValue:null,optional:!0,type:"number"}},V.doRender=function(e){let t="no-owner";const{author:n,year:o}=e;return n&&n.length&&(t=o&&o.length?n+" - "+o:n),`\n        <blockquote class="border-l-4 px-4 border-blue-500">\n            <span class="block text-3xl font-light">${e.text}</span>\n            <span class="mt-1 block">${t}</span>\n        </blockquote>\n    `},V.preview=function(){return V.doRender({text:"It takes a great deal of bravery to stand up to our enemies, but...",author:"A. P. W. B. Dumbledore",year:1996})},A.label="Youtube Video",A.icon='<svg viewBox="0 0 334.623 334.623" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m175.33 287.02c-7e-3 0 0 0 0 0-38.053 0-79.481-1.202-123.12-3.554-25.784-1.414-45.785-21.292-48.632-48.349-4.762-45.2-4.762-90.83 0-135.62 2.841-26.832 22.815-46.71 48.574-48.33 75.271-4.737 152.72-4.737 230.31 0 26.061 1.581 45.586 20.99 48.6 48.304 4.749 43.246 4.756 88.87 6e-3 135.63-2.744 27.038-22.25 46.472-48.535 48.356-33.079 2.364-69.147 3.566-107.2 3.566zm-8.901-226.56c-37.931 0-76.113 1.195-113.48 3.541-19.685 1.234-34.39 16.048-36.594 36.851-4.666 43.895-4.666 88.613 0 132.93 2.204 20.971 16.89 35.778 36.543 36.858 43.413 2.339 84.609 3.535 122.42 3.535 37.751 0 73.51-1.189 106.29-3.528 19.833-1.427 34.57-16.228 36.659-36.839 4.666-45.862 4.666-90.58 6e-3 -132.93-2.294-20.868-17.005-35.688-36.594-36.877-38.53-2.352-77.31-3.541-115.25-3.541zm-31.852 61.331v88.208l84.706-43.805-84.706-44.403z"/></svg>',A.props={source:{defaultValue:"https://www.youtube.com/watch?v=AkSCGSxOUIk",type:"youtube"},width:{defaultValue:"wide",type:"choice",choices:["normal","wide","full"]},controls:{defaultValue:!0,type:"choice",choices:[!0,!1]}},A.doRender=function(e,t){const n=function(e){var t=(e.url||e.source).match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);if(!t||!t[2])return null;const n=t[2];return{videoPoster:`https://img.youtube.com/vi/${n}/0.jpg`,embedUrl:`https://www.youtube.com/embed/${n}?rel=0&controls=${e.controls?1:0}&showinfo=0&enablejsapi=1`}}(e);if(!n)return"";const{videoPoster:o,embedUrl:l}=n;let r="";t&&(r=`\n            <img class="object-cover absolute inset-0 w-full h-full" src="${o}" />\n            <svg class="absolute inset-0 m-auto" style="height: 40px; width: 40px; position: absolute; left: 0; right: 0; top: 0; bottom: 0; margin: auto" fill="#f00" viewBox="0 0 24 24">\n                <rect x="8" y="8" width="8" height="8" fill="#fff" />\n                <path d="M10,15L15.19,12L10,9V15M21.56,7.17C21.69,7.64 21.78,8.27 21.84,9.07C21.91,9.87 21.94,10.56 21.94,11.16L22,12C22,14.19 21.84,15.8 21.56,16.83C21.31,17.73 20.73,18.31 19.83,18.56C19.36,18.69 18.5,18.78 17.18,18.84C15.88,18.91 14.69,18.94 13.59,18.94L12,19C7.81,19 5.2,18.84 4.17,18.56C3.27,18.31 2.69,17.73 2.44,16.83C2.31,16.36 2.22,15.73 2.16,14.93C2.09,14.13 2.06,13.44 2.06,12.84L2,12C2,9.81 2.16,8.2 2.44,7.17C2.69,6.27 3.27,5.69 4.17,5.44C4.64,5.31 5.5,5.22 6.82,5.16C8.12,5.09 9.31,5.06 10.41,5.06L12,5C16.19,5 18.8,5.16 19.83,5.44C20.73,5.69 21.31,6.27 21.56,7.17Z" />\n            </svg>\n        `);let i="",s="";return t?s="height: 150px;":(s="padding-bottom: calc(900%/16)",i=`\n            <iframe class="absolute inset-0 w-full h-full" width="100%" height="100%" \n                src="${l}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>\n        `),`\n        <div class="relative bg-black" style="${s}">\n            ${i}\n            ${r}\n        </div>\n    `},A.preview=function(){return A.doRender({source:"https://www.youtube.com/watch?v=AkSCGSxOUIk",width:"wide"},!0)};var N,B,D,U=Object.freeze({__proto__:null,BcImage:j,BcAlert:L,BcQuote:V,BcYoutube:A}),T=0,R=[],q=e.__b,I=e.__r,O=e.diffed,W=e.__c,F=e.unmount;function G(t,n){e.__h&&e.__h(B,t,T||n),T=0;var o=B.__H||(B.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function Y(e){return T=1,function(e,t,n){var o=G(N++,2);return o.t=e,o.__c||(o.__=[n?n(t):oe(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=B),o.__}(oe,e)}function J(t,n){var o=G(N++,3);!e.__s&&ne(o.__H,n)&&(o.__=t,o.__H=n,B.__H.__h.push(o))}function K(e,t){return T=8,function(e,t){var n=G(N++,7);return ne(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}((function(){return e}),t)}function Q(e){var t=B.context[e.__c],n=G(N++,9);return n.__c=e,t?(null==n.__&&(n.__=!0,t.sub(B)),t.props.value):e.__}function X(){R.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(ee),t.__H.__h.forEach(te),t.__H.__h=[]}catch(n){t.__H.__h=[],e.__e(n,t.__v)}})),R=[]}e.__b=function(e){B=null,q&&q(e)},e.__r=function(e){I&&I(e),N=0;var t=(B=e.__c).__H;t&&(t.__h.forEach(ee),t.__h.forEach(te),t.__h=[])},e.diffed=function(t){O&&O(t);var n=t.__c;n&&n.__H&&n.__H.__h.length&&(1!==R.push(n)&&D===e.requestAnimationFrame||((D=e.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(o),Z&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);Z&&(t=requestAnimationFrame(n))})(X)),B=void 0},e.__c=function(t,n){n.some((function(t){try{t.__h.forEach(ee),t.__h=t.__h.filter((function(e){return!e.__||te(e)}))}catch(o){n.some((function(e){e.__h&&(e.__h=[])})),n=[],e.__e(o,t.__v)}})),W&&W(t,n)},e.unmount=function(t){F&&F(t);var n=t.__c;if(n&&n.__H)try{n.__H.__.forEach(ee)}catch(t){e.__e(t,n.__v)}};var Z="function"==typeof requestAnimationFrame;function ee(e){var t=B;"function"==typeof e.__c&&e.__c(),B=t}function te(e){var t=B;e.__c=e.__(),B=t}function ne(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function oe(e,t){return"function"==typeof t?t(e):t}const le=function(e,t){var n={__c:t="__cC"+r++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e,n,o){return this.getChildContext||(n=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(v)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}();function re({opened:e=!1,close:t,onComponentPicked:n}){const{uiElements:o}=Q(le);return o?_("div",{class:`fixed inset-0  z-50 ${!e&&"pointer-events-none"}`},_("div",{className:`bg-black bg-opacity-25 fixed inset-0 transition ${!e&&"opacity-0"}`,onClick:t}),_("div",{class:`flex flex-col h-full relative z-10 w-1/3 max-w-sm bg-gray-100 shadow overflow-hidden transition ${!e&&"transform -translate-x-full"}`},_("div",{class:"p-4 border-b border-gray-300 flex items-center justify-between"},_("h3",{class:"text-xl font-semibold"},"Pick a Component"),_("button",{class:"focus:outline-none w-6 h-6 rounded-full p-0 flex items-center justify-center bg-gray-300",onClick:t},_("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),_("div",{class:"p-4 flex-1 overflow-y-auto"},Object.values(o).map((e=>_("button",{class:"block w-full text-left mt-3 mb-7 border-none focus:outline-none bg-transparent",onClick:()=>n(e)},_("div",{className:"shadow p-2 rounded bg-white"},_("div",{dangerouslySetInnerHTML:{__html:e.preview()}})),_("span",{class:"mt-2 block text-center text-xl font-semibold"},e.label))))))):null}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}const se=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;function ue({field:e,matchPattern:t=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/,matchError:n="Invalid URL",onChange:o=(e=>{})}){const{label:l,placeholder:r,value:i,optional:s}=e,[u,a]=Y(null),[c,p]=Y(null);function d(e){if("youtube"==t){const t=async function(e){return e.match(se)}(e);return t&&t[2]&&t[2].length>=11}return t.test(e)}return J((()=>{i&&p(i)}),[i]),_("div",null,_("div",{class:"relative border-2 rounded overflow-hidden"},_("input",{class:"text-gray-600 text-lg h-10 focus:ouline-none border-none w-full px-3 py-2 pointer-events-none",type:"text",required:!s,value:c,placeholder:r||`Click paste to paste ${(e.label||"link").toLowerCase()}`,onChange:e=>o(e.target.value)}),_("div",{className:"z-10 absolute inset-y-0 right-0 px-2 bg-white bg-opacity-90 flex items-center"},_("button",{type:"button",class:"focus:outline-none shadow-sm border text-xs uppercase tracking-wide rounded-sm font-medium py-1 px-2 "+(c&&c.length?"bg-gray-100 border-gray-300 text-gray-600":"border-gray-200 text-gray-400"),onClick:async function(){if(a(null),c&&c.length)p(""),o("");else try{const e=await async function(){try{return await navigator.clipboard.readText()}catch(e){return console.error("Failed to read clipboard contents: ",e),a("Failed to read clipboard contents"),!1}}();d(e)?(p(e),o(e)):a(n)}catch(e){a("Unknown error occured"),console.log("Failed to paste link: ",e)}}},c&&c.length?"Clear":"Paste"))),u&&_("span",{id:"fullNameError",class:"text-sm block mt-1 ml-1 text-red-500"},u))}function ae({placeholder:e="Search for photos",fetchLatestPhotos:t=(e=>{}),searchPhotos:n=(e=>{}),onChange:o=(e=>{})}){const[l,r]=Y(""),[i,s]=Y(null),[u,a]=Y(null),[c,p]=Y(null);return J((()=>{c&&c.length||async function(){s("fetching");const e=await t();p(e),s("")}()}),[]),_("div",{class:"mb-4 -mt-3 relative",style:"width: 650px"},_("div",{className:"absolute bg-gray-100 -inset-4 bottom-0"}),_("form",{class:"relative border-2 rounded overflow-hidden flex items-center",onSubmit:async function(e){e.preventDefault(),e.stopPropagation(),s("fetching");const t=await n(l);p(t),s("")}},_("input",{class:"focus:outline-none text-gray-600 text-lg h-10 focus:ouline-none border-none w-full px-3 py-2",type:"text",placeholder:e,name:"q",value:l,onInput:e=>r(e.target.value)}),l&&l.length>0&&_("button",{type:"button",class:"absolute w-5 h-5 flex items-center justify-center my-auto inset-y-0 right-2 focus:outline-none border border-gray-300 rounded-full",onClick:()=>r("")},_("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),_("div",{className:"-mx-4 px-4 my-3 grid grid-cols-3 gap-4 overflow-y-auto",style:"height: 360px"},c&&c.map((e=>_("button",{type:"button",class:"bg-gray-100 border rounded overflow-x-hidden relative",style:`background: ${e.color}; padding-bottom: 110%`,onClick:()=>o(e.full)},_("img",{class:"absolute left-0 top-0 h-full w-full object-cover",src:e.preview,alt:""}))))))}function ce({onChange:e=(e=>{})}){const t="17ef130962858e4304efe9512cf023387ee5d36f0585e4346f0f70b2f9729964";async function n(e){const t=await fetch(e);let n=await t.json();return(n.results?n.results:n).map((({color:e,description:t,urls:n,user:o})=>({color:e,description:t,preview:n.small,full:n.regular,user:o})))}return _(ae,{placeholder:"Search Unsplash",fetchLatestPhotos:function(){return n(`https://api.unsplash.com/photos?per_page=30&client_id=${t}`)},searchPhotos:function(e){return n(`https://api.unsplash.com/search/photos?query=${e}&per_page=30&client_id=${t}`)},onChange:e})}function _e({onChange:e=(e=>{})}){const t="zKN2rO1fYYKdNDIjHHmGHhmqvLN66oue";async function n(e){const t=await fetch(e);let{data:n}=await t.json();return n.map((({color:e,description:t,images:n,user:o})=>({color:e,description:t,preview:n.preview_gif.url,full:n.downsized_medium.url,user:o?o.display_name:""})))}return _(ae,{placeholder:"Search Giphy",fetchLatestPhotos:function(){return n(`https://api.giphy.com/v1/gifs/trending?limit=30&api_key=${t}`)},searchPhotos:function(e){return n(`https://api.giphy.com/v1/gifs/search?q=${e}&limit=30&api_key=${t}`)},onChange:e})}var pe={link:ue,image:function({field:e,onChange:t=(e=>{})}){const{label:n,value:o,optional:l}=e,[r,i]=Y(null),[s,u]=Y("link");function a(e){t(e),i(e)}function c(e){return s!==e?"hover:text-gray-500":"bg-white shadow-sm border-gray-200 text-red-600 pointer-events-none"}return J((()=>{o&&i(o)}),[o]),_("div",{class:"mb-4",style:"width: 650px"},_("div",{className:"z-10 relative bg-gray-100 bg-opacity-70 -m-4 mb-3 py-2 px-4 flex items-center"},_("button",{type:"button",class:`focus:outline-none border border-transparent py-2 px-4 rounded-full bg-transparent font-medium text-xs leading-none tracking-wide uppercase text-gray-400 ${c("unsplash")}`,onClick:()=>{i(""),u("unsplash")}},"Unsplash"),_("button",{type:"button",class:`focus:outline-none border border-transparent py-2 px-3 rounded-full bg-transparent font-medium text-xs leading-none tracking-wide uppercase text-gray-400 ${c("giphy")}`,onClick:()=>u("giphy")},"Giphy"),_("button",{type:"button",class:`focus:outline-none border border-transparent py-2 px-4 rounded-full bg-transparent font-medium text-xs leading-none tracking-wide uppercase text-gray-400 ${c("link")}`,onClick:()=>u("link")},"Paste Link")),"link"==s&&_("div",null,_(ue,{field:e,onChange:a}),_("div",{class:"relative bg-gray-100 rounded mt-3 mb-1 flex justify-center",style:"height: 360px"},r&&r.length&&_("img",{class:"absolute inset-0 h-full max-w-full object-contain",src:r,alt:""}))),"unsplash"==s&&_("div",null,_(ce,{onChange:a})),"giphy"==s&&_("div",null,_(_e,{onChange:a})))}};function de({field:e,nolabel:t,onChange:n}){const{name:o,label:l,choices:r,defaultValue:i,value:s,type:u,...a}=e;function c(e){n(e.target.value)}return _("div",{class:""},!t&&_("label",{class:"capitalize block"},l||o),function(){const t=pe[`${e.type}`];if(t)return _(t,{field:e,onChange:n});switch(e.type){case"choice":return _("div",{className:"relative"},_("select",ie({required:!e.optional,class:"border-2 rounded text-lg leading-none h-10 w-full px-3 py-2",style:"appearance: none",defaultValue:e.value,value:e.value,onInput:c},a),_("option",{disabled:!0,value:""},"Choose ",e.name),e.choices.map((e=>_("option",{value:e},e)))),_("svg",{class:"absolute inset-y-0 my-auto right-2 w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})));case"long-text":return _("textarea",ie({required:!e.optional,class:"border-2 rounded text-lg min-h-10 w-full px-3 py-2",placeholder:e.defaultValue,rows:"5",value:e.value,onInput:c},a));default:{const t=["text","number","color","range"].includes(e.type)?e.type:"text";return _("input",ie({required:!e.optional,class:"border-2 rounded text-lg h-10 w-full px-3 py-2",type:t,value:e.value,onInput:c},a))}}}())}function fe({opened:e=!1,close:t,selectedElement:n,onSave:o}){const[l,r]=Y(null),{uiElements:i}=Q(le);if(!i)return null;const s=K((()=>{if(!l||!l.component)return[];l.options||(l.options={});const e=i[l.component],t=[];for(const n in e.props){const{type:o,defaultValue:r,...i}=e.props[n],s={type:o,defaultValue:r,...i};-1!=o.indexOf("text")||l.options[n]||null===r?l.options[n]&&(s.value=l.options[n]):s.value=r,s.name=n,t.push(s)}return t}),[l]);return J((()=>{r(JSON.parse(JSON.stringify({...n})))}),[n]),_("div",{class:`flex fixed inset-0 z-50 ${!e&&"pointer-events-none"}`},_("div",{className:`bg-black bg-opacity-25 fixed inset-0 transition ${!e&&"opacity-0"}`,onClick:t}),_("div",{class:`ml-auto flex flex-col h-full relative z-10 w-1/3 max-w-sm bg-white shadow overflow-hidden transition ${!e&&"transform translate-x-full"}`},_("div",{class:"p-4 border-b flex items-center justify-between"},_("h3",{class:"text-xl font-semibold"},"Customize ",l?l.label||"Component":""),_("button",{class:"focus:outline-none w-6 h-6 rounded-full p-0 flex items-center justify-center bg-gray-300",onClick:t},_("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},_("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),_("div",{class:"p-4 flex-1 overflow-y-auto"},_("form",{action:"#",onSubmit:function(e){e.preventDefault(),o(l)}},s().map((e=>_("div",{class:"mb-4"},_(de,{field:e,onChange:t=>l.options[e.name]=t})))),_("button",{type:"submit",class:"px-5 py-2 border-2 border-red-500 uppercase text-xs tracking-wide font-semibold bg-red-500 text-white rounded-full w-full"},"Save Changes")))))}function he({element:e}){const{uiElements:t,editElement:n,removeElement:o}=Q(le),{options:l,component:r}=e;return _("div",null,_("div",{class:"relative"},_("div",{innerHTML:new t[r](l).render()}),_("div",{class:"mt-1 flex items-center"},_("button",{class:"mr-2 flex items-center justify-center w-7 h-7 bg-gray-100 rounded-full",onClick:()=>n(e)},_("svg",{class:"w-4",fill:"#f18f16",viewBox:"0 0 24 24"},_("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),_("path",{d:"M0 0h24v24H0z",fill:"none"}))),_("button",{class:"flex items-center justify-center w-7 h-7 bg-gray-100 rounded-full",onClick:()=>o(e)},_("svg",{class:"w-4",fill:"#e04b2a",viewBox:"0 0 24 24"},_("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),_("path",{d:"M0 0h24v24H0z",fill:"none"}))))))}function me({elements:e}){return _("div",null,e.map((e=>_(he,{element:e}))))}function ve({articulateRef:e}){const[t,n]=Y(!1),[o,l]=Y(null),[r,i]=Y(!1);function s(){e.onElementsChanged(e.elements)}function u(t){n(!1),t.id?e.elements=e.elements.map((n=>n.id===t.id?(e.onElementUpdated(t),t):n)):(t.id=(1e32*Math.random()).toString(36),e.elements=[...e.elements,t],e.onElementAdded(t)),s()}return e.pickComponent=()=>{i(!0)},e.editElement=e=>{l(e),setTimeout((()=>{n(!0)}))},e.removeElement=function(t){e.elements&&e.elements.length&&t&&t.id&&(e.elements=e.elements.filter((({id:e})=>e!=t.id)),s())},_(le.Provider,{value:e},_("div",{class:"max-w-5xl mx-auto"},_(re,{opened:r,close:()=>i(!1),onComponentPicked:function(t){i(!1);const{label:n,name:o,props:l}=t,r={label:n,component:o,options:{}};let s=!1;for(const[e,{defaultValue:t,optional:n}]of Object.entries(l))r.options[e]=t,n||t||(s=!0);s?e.onComponentPicked(r):u(r)}}),_(fe,{selectedElement:o,opened:t,close:()=>n(!1),onSave:u}),_(me,{elements:e.elements})))}return function(t,n={}){const o={uiElements:U,elements:[],onComponentPicked:e=>{this.editElement(e)},onElementAdded:e=>{},onElementUpdated:e=>{},onElementsChanged:e=>{}},{extend:r,...u}=n,a={...o,...u};for(const[e,t]of Object.entries(a))r&&r[e]?Array.isArray(t)?this[e]=[...t,...r[e]]:this[e]="object"==typeof t?{...t,...r[e]}:t:this[e]=t;!function(t,n,o){var r,u,a;e.__&&e.__(t,n),u=(r=o===l)?null:o&&o.__k||n.__k,t=_(d,null,[t]),a=[],H(n,(r?n:o||n).__k=t,u||i,i,void 0!==n.ownerSVGElement,o&&!r?[o]:u?null:n.childNodes.length?s.slice.call(n.childNodes):null,a,o||i,r),P(a,t)}(_(ve,{articulateRef:this}),document.querySelector(t))}}));
