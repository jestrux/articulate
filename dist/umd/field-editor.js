!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ArticulateFieldEditor=t()}(this,(function(){"use strict";var e,t,n,o,l,r,i={},u=[],_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function a(e,t){for(var n in t)e[n]=t[n];return e}function s(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n){var o,l,r,i=arguments,u={};for(r in t)"key"==r?o=t[r]:"ref"==r?l=t[r]:u[r]=t[r];if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(i[r]);if(null!=n&&(u.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===u[r]&&(u[r]=e.defaultProps[r]);return p(e,u,o,l,null)}function p(t,n,o,l,r){var i={type:t,props:n,key:o,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++e.__v:r};return null!=e.vnode&&e.vnode(i),i}function f(e){return e.children}function d(e,t){this.props=e,this.context=t}function h(e,t){if(null==t)return e.__?h(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?h(e):null}function v(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return v(e)}}function y(l){(!l.__d&&(l.__d=!0)&&t.push(l)&&!g.__r++||o!==e.debounceRendering)&&((o=e.debounceRendering)||n)(g)}function g(){for(var e;g.__r=t.length;)e=t.sort((function(e,t){return e.__v.__b-t.__v.__b})),t=[],e.some((function(e){var t,n,o,l,r,i,u;e.__d&&(i=(r=(t=e).__v).__e,(u=t.__P)&&(n=[],(o=a({},r)).__v=r.__v+1,l=P(u,r,o,t.__n,void 0!==u.ownerSVGElement,null!=r.__h?[i]:null,n,null==i?h(r):i,r.__h),N(n,r),l!=i&&v(r)))}))}function m(e,t,n,o,l,r,_,a,c,d){var v,y,g,m,x,w,k,C=o&&o.__k||u,S=C.length;for(c==i&&(c=null!=_?_[0]:S?h(o,0):null),n.__k=[],v=0;v<t.length;v++)if(null!=(m=n.__k[v]=null==(m=t[v])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m?p(null,m,null,null,m):Array.isArray(m)?p(f,{children:m},null,null,null):null!=m.__e||null!=m.__c?p(m.type,m.props,m.key,null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(g=C[v])||g&&m.key==g.key&&m.type===g.type)C[v]=void 0;else for(y=0;y<S;y++){if((g=C[y])&&m.key==g.key&&m.type===g.type){C[y]=void 0;break}g=null}x=P(e,m,g=g||i,l,r,_,a,c,d),(y=m.ref)&&g.ref!=y&&(k||(k=[]),g.ref&&k.push(g.ref,null,m),k.push(y,m.__c||x,m)),null!=x?(null==w&&(w=x),c=b(e,m,g,C,_,x,c),d||"option"!=n.type?"function"==typeof n.type&&(n.__d=c):e.value=""):c&&g.__e==c&&c.parentNode!=e&&(c=h(g))}if(n.__e=w,null!=_&&"function"!=typeof n.type)for(v=_.length;v--;)null!=_[v]&&s(_[v]);for(v=S;v--;)null!=C[v]&&F(C[v],C[v]);if(k)for(v=0;v<k.length;v++)H(k[v],k[++v],k[++v])}function b(e,t,n,o,l,r,i){var u,_,a;if(void 0!==t.__d)u=t.__d,t.__d=void 0;else if(l==n||r!=i||null==r.parentNode)e:if(null==i||i.parentNode!==e)e.appendChild(r),u=null;else{for(_=i,a=0;(_=_.nextSibling)&&a<o.length;a+=2)if(_==r)break e;e.insertBefore(r,i),u=i}return void 0!==u?u:r.nextSibling}function x(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||_.test(t)?n:n+"px"}function w(e,t,n,o,l){var r,i,u;if(l&&"className"==t&&(t="class"),"style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(t in o)n&&t in n||x(e.style,t,"");if(n)for(t in n)o&&n[t]===o[t]||x(e.style,t,n[t])}else"o"===t[0]&&"n"===t[1]?(r=t!==(t=t.replace(/Capture$/,"")),(i=t.toLowerCase())in e&&(t=i),t=t.slice(2),e.l||(e.l={}),e.l[t+r]=n,u=r?C:k,n?o||e.addEventListener(t,u,r):e.removeEventListener(t,u,r)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&!l&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function k(t){this.l[t.type+!1](e.event?e.event(t):t)}function C(t){this.l[t.type+!0](e.event?e.event(t):t)}function S(e,t,n){var o,l;for(o=0;o<e.__k.length;o++)(l=e.__k[o])&&(l.__=e,l.__e&&("function"==typeof l.type&&l.__k.length>1&&S(l,t,n),t=b(n,l,l,e.__k,null,l.__e,t),"function"==typeof e.type&&(e.__d=t)))}function P(t,n,o,l,r,i,u,_,s){var c,p,h,v,y,g,b,x,w,k,C,P=n.type;if(void 0!==n.constructor)return null;null!=o.__h&&(s=o.__h,_=n.__e=o.__e,n.__h=null,i=[_]),(c=e.__b)&&c(n);try{e:if("function"==typeof P){if(x=n.props,w=(c=P.contextType)&&l[c.__c],k=c?w?w.props.value:c.__:l,o.__c?b=(p=n.__c=o.__c).__=p.__E:("prototype"in P&&P.prototype.render?n.__c=p=new P(x,k):(n.__c=p=new d(x,k),p.constructor=P,p.render=j),w&&w.sub(p),p.props=x,p.state||(p.state={}),p.context=k,p.__n=l,h=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=P.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=a({},p.__s)),a(p.__s,P.getDerivedStateFromProps(x,p.__s))),v=p.props,y=p.state,h)null==P.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==P.getDerivedStateFromProps&&x!==v&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(x,k),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(x,p.__s,k)||n.__v===o.__v){p.props=x,p.state=p.__s,n.__v!==o.__v&&(p.__d=!1),p.__v=n,n.__e=o.__e,n.__k=o.__k,p.__h.length&&u.push(p),S(n,_,t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(x,p.__s,k),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(v,y,g)}))}p.context=k,p.props=x,p.state=p.__s,(c=e.__r)&&c(n),p.__d=!1,p.__v=n,p.__P=t,c=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(l=a(a({},l),p.getChildContext())),h||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(v,y)),C=null!=c&&c.type==f&&null==c.key?c.props.children:c,m(t,Array.isArray(C)?C:[C],n,o,l,r,i,u,_,s),p.base=n.__e,n.__h=null,p.__h.length&&u.push(p),b&&(p.__E=p.__=null),p.__e=!1}else null==i&&n.__v===o.__v?(n.__k=o.__k,n.__e=o.__e):n.__e=E(o.__e,n,o,l,r,i,u,s);(c=e.diffed)&&c(n)}catch(t){n.__v=null,(s||null!=i)&&(n.__e=_,n.__h=!!s,i[i.indexOf(_)]=null),e.__e(t,n,o)}return n.__e}function N(t,n){e.__c&&e.__c(n,t),t.some((function(n){try{t=n.__h,n.__h=[],t.some((function(e){e.call(n)}))}catch(t){e.__e(t,n.__v)}}))}function E(e,t,n,o,l,r,_,a){var s,c,p,f,d,h=n.props,v=t.props;if(l="svg"===t.type||l,null!=r)for(s=0;s<r.length;s++)if(null!=(c=r[s])&&((null===t.type?3===c.nodeType:c.localName===t.type)||e==c)){e=c,r[s]=null;break}if(null==e){if(null===t.type)return document.createTextNode(v);e=l?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,v.is&&{is:v.is}),r=null,a=!1}if(null===t.type)h===v||a&&e.data===v||(e.data=v);else{if(null!=r&&(r=u.slice.call(e.childNodes)),p=(h=n.props||i).dangerouslySetInnerHTML,f=v.dangerouslySetInnerHTML,!a){if(null!=r)for(h={},d=0;d<e.attributes.length;d++)h[e.attributes[d].name]=e.attributes[d].value;(f||p)&&(f&&(p&&f.__html==p.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}(function(e,t,n,o,l){var r;for(r in n)"children"===r||"key"===r||r in t||w(e,r,null,n[r],o);for(r in t)l&&"function"!=typeof t[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===t[r]||w(e,r,t[r],n[r],o)})(e,v,h,l,a),f?t.__k=[]:(s=t.props.children,m(e,Array.isArray(s)?s:[s],t,n,o,"foreignObject"!==t.type&&l,r,_,i,a)),a||("value"in v&&void 0!==(s=v.value)&&(s!==e.value||"progress"===t.type&&!s)&&w(e,"value",s,h.value,!1),"checked"in v&&void 0!==(s=v.checked)&&s!==e.checked&&w(e,"checked",s,h.checked,!1))}return e}function H(t,n,o){try{"function"==typeof t?t(n):t.current=n}catch(t){e.__e(t,o)}}function F(t,n,o){var l,r,i;if(e.unmount&&e.unmount(t),(l=t.ref)&&(l.current&&l.current!==t.__e||H(l,null,n)),o||"function"==typeof t.type||(o=null!=(r=t.__e)),t.__e=t.__d=void 0,null!=(l=t.__c)){if(l.componentWillUnmount)try{l.componentWillUnmount()}catch(t){e.__e(t,n)}l.base=l.__P=null}if(l=t.__k)for(i=0;i<l.length;i++)l[i]&&F(l[i],n,o);null!=r&&s(r)}function j(e,t,n){return this.constructor(e,n)}e={__e:function(e,t){for(var n,o,l,r=t.__h;t=t.__;)if((n=t.__c)&&!n.__)try{if((o=n.constructor)&&null!=o.getDerivedStateFromError&&(n.setState(o.getDerivedStateFromError(e)),l=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),l=n.__d),l)return t.__h=r,n.__E=n}catch(t){e=t}throw e},__v:0},d.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=a({},this.state),"function"==typeof e&&(e=e(a({},n),this.props)),e&&a(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),y(this))},d.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),y(this))},d.prototype.render=f,t=[],n="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,g.__r=0,l=i,r=0;var L,T,A,U=0,$=[],D=e.__b,M=e.__r,q=e.diffed,O=e.__c,z=e.unmount;function W(t,n){e.__h&&e.__h(T,t,U||n),U=0;var o=T.__H||(T.__H={__:[],__h:[]});return t>=o.__.length&&o.__.push({}),o.__[t]}function I(e){return U=1,function(e,t,n){var o=W(L++,2);return o.t=e,o.__c||(o.__=[n?n(t):K(void 0,t),function(e){var t=o.t(o.__[0],e);o.__[0]!==t&&(o.__=[t,o.__[1]],o.__c.setState({}))}],o.__c=T),o.__}(K,e)}function R(t,n){var o=W(L++,3);!e.__s&&function(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}(o.__H,n)&&(o.__=t,o.__H=n,T.__H.__h.push(o))}function B(){$.forEach((function(t){if(t.__P)try{t.__H.__h.forEach(V),t.__H.__h.forEach(J),t.__H.__h=[]}catch(n){t.__H.__h=[],e.__e(n,t.__v)}})),$=[]}e.__b=function(e){T=null,D&&D(e)},e.__r=function(e){M&&M(e),L=0;var t=(T=e.__c).__H;t&&(t.__h.forEach(V),t.__h.forEach(J),t.__h=[])},e.diffed=function(t){q&&q(t);var n=t.__c;n&&n.__H&&n.__H.__h.length&&(1!==$.push(n)&&A===e.requestAnimationFrame||((A=e.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(o),G&&cancelAnimationFrame(t),setTimeout(e)},o=setTimeout(n,100);G&&(t=requestAnimationFrame(n))})(B)),T=void 0},e.__c=function(t,n){n.some((function(t){try{t.__h.forEach(V),t.__h=t.__h.filter((function(e){return!e.__||J(e)}))}catch(o){n.some((function(e){e.__h&&(e.__h=[])})),n=[],e.__e(o,t.__v)}})),O&&O(t,n)},e.unmount=function(t){z&&z(t);var n=t.__c;if(n&&n.__H)try{n.__H.__.forEach(V)}catch(t){e.__e(t,n.__v)}};var G="function"==typeof requestAnimationFrame;function V(e){var t=T;"function"==typeof e.__c&&e.__c(),T=t}function J(e){var t=T;e.__c=e.__(),T=t}function K(e,t){return"function"==typeof t?t(e):t}const Y=function(e,t){var n={__c:t="__cC"+r++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e,n,o){return this.getChildContext||(n=[],(o={})[t]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(y)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}();function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}const X=/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;function Z({field:e,matchPattern:t=/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/,matchError:n="Invalid URL",onChange:o=(e=>{})}){const{label:l,placeholder:r,value:i,optional:u}=e,[_,a]=I(null),[s,p]=I(null);function f(e){if("youtube"==t){const t=async function(e){return e.match(X)}(e);return t&&t[2]&&t[2].length>=11}return t.test(e)}return R((()=>{i&&p(i)}),[i]),c("div",null,c("div",{class:"relative border-2 rounded overflow-hidden"},c("input",{class:"text-gray-600 text-lg h-10 focus:ouline-none border-none w-full px-3 py-2 pointer-events-none",type:"text",required:!u,value:s,placeholder:r||`Click paste to paste ${(e.label||"link").toLowerCase()}`,onChange:e=>o(e.target.value)}),c("div",{className:"z-10 absolute inset-y-0 right-0 px-2 bg-white bg-opacity-90 flex items-center"},c("button",{type:"button",class:"focus:outline-none shadow-sm border text-xs uppercase tracking-wide rounded-sm font-medium py-1 px-2 "+(s&&s.length?"bg-gray-100 border-gray-300 text-gray-600":"border-gray-200 text-gray-400"),onClick:async function(){if(a(null),s&&s.length)p(""),o("");else try{const e=await async function(){try{return await navigator.clipboard.readText()}catch(e){return console.error("Failed to read clipboard contents: ",e),a("Failed to read clipboard contents"),!1}}();f(e)?(p(e),o(e)):a(n)}catch(e){a("Unknown error occured"),console.log("Failed to paste link: ",e)}}},s&&s.length?"Clear":"Paste"))),_&&c("span",{id:"fullNameError",class:"text-sm block mt-1 ml-1 text-red-500"},_))}function ee({placeholder:e="Search for photos",fetchLatestPhotos:t=(e=>{}),searchPhotos:n=(e=>{}),onChange:o=(e=>{})}){const[l,r]=I(""),[i,u]=I(null),[_,a]=I(null),[s,p]=I(null);return R((()=>{s&&s.length||async function(){u("fetching");const e=await t();p(e),u("")}()}),[]),c("div",{class:"mb-4 -mt-3 relative",style:"width: 650px"},c("div",{className:"absolute bg-gray-100 -inset-4 bottom-0"}),c("form",{class:"relative border-2 rounded overflow-hidden flex items-center",onSubmit:async function(e){e.preventDefault(),e.stopPropagation(),u("fetching");const t=await n(l);p(t),u("")}},c("input",{class:"focus:outline-none text-gray-600 text-lg h-10 focus:ouline-none border-none w-full px-3 py-2",type:"text",placeholder:e,name:"q",value:l,onInput:e=>r(e.target.value)}),l&&l.length>0&&c("button",{type:"button",class:"absolute w-5 h-5 flex items-center justify-center my-auto inset-y-0 right-2 focus:outline-none border border-gray-300 rounded-full",onClick:()=>r("")},c("svg",{class:"w-3 h-3 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),c("div",{className:"-mx-4 px-4 my-3 grid grid-cols-3 gap-4 overflow-y-auto",style:"height: 360px"},s&&s.map((e=>c("button",{type:"button",class:"bg-gray-100 border rounded overflow-x-hidden relative",style:`background: ${e.color}; padding-bottom: 110%`,onClick:()=>o(e.full)},c("img",{class:"absolute left-0 top-0 h-full w-full object-cover",src:e.preview,alt:""}))))))}function te({onChange:e=(e=>{})}){const t="17ef130962858e4304efe9512cf023387ee5d36f0585e4346f0f70b2f9729964";async function n(e){const t=await fetch(e);let n=await t.json();return(n.results?n.results:n).map((({color:e,description:t,urls:n,user:o})=>({color:e,description:t,preview:n.small,full:n.regular,user:o})))}return c(ee,{placeholder:"Search Unsplash",fetchLatestPhotos:function(){return n(`https://api.unsplash.com/photos?per_page=30&client_id=${t}`)},searchPhotos:function(e){return n(`https://api.unsplash.com/search/photos?query=${e}&per_page=30&client_id=${t}`)},onChange:e})}function ne({onChange:e=(e=>{})}){const t="zKN2rO1fYYKdNDIjHHmGHhmqvLN66oue";async function n(e){const t=await fetch(e);let{data:n}=await t.json();return n.map((({color:e,description:t,images:n,user:o})=>({color:e,description:t,preview:n.preview_gif.url,full:n.downsized_medium.url,user:o?o.display_name:""})))}return c(ee,{placeholder:"Search Giphy",fetchLatestPhotos:function(){return n(`https://api.giphy.com/v1/gifs/trending?limit=30&api_key=${t}`)},searchPhotos:function(e){return n(`https://api.giphy.com/v1/gifs/search?q=${e}&limit=30&api_key=${t}`)},onChange:e})}var oe={link:Z,image:function({field:e,onChange:t=(e=>{})}){const{label:n,value:o,optional:l}=e,[r,i]=I(null),[u,_]=I("link");function a(e){t(e),i(e)}function s(e){return u!==e?"hover:text-gray-500":"bg-white shadow-sm border-gray-200 text-red-600 pointer-events-none"}return R((()=>{o&&i(o)}),[o]),c("div",{class:"mb-4",style:"width: 650px"},c("div",{className:"z-10 relative bg-gray-100 bg-opacity-70 -m-4 mb-3 py-2 px-4 flex items-center"},c("button",{type:"button",class:`focus:outline-none border border-transparent py-2 px-4 rounded-full bg-transparent font-medium text-xs leading-none tracking-wide uppercase text-gray-400 ${s("unsplash")}`,onClick:()=>{i(""),_("unsplash")}},"Unsplash"),c("button",{type:"button",class:`focus:outline-none border border-transparent py-2 px-3 rounded-full bg-transparent font-medium text-xs leading-none tracking-wide uppercase text-gray-400 ${s("giphy")}`,onClick:()=>_("giphy")},"Giphy"),c("button",{type:"button",class:`focus:outline-none border border-transparent py-2 px-4 rounded-full bg-transparent font-medium text-xs leading-none tracking-wide uppercase text-gray-400 ${s("link")}`,onClick:()=>_("link")},"Paste Link")),"link"==u&&c("div",null,c(Z,{field:e,onChange:a}),c("div",{class:"relative bg-gray-100 rounded mt-3 mb-1 flex justify-center",style:"height: 360px"},r&&r.length&&c("img",{class:"absolute inset-0 h-full max-w-full object-contain",src:r,alt:""}))),"unsplash"==u&&c("div",null,c(te,{onChange:a})),"giphy"==u&&c("div",null,c(ne,{onChange:a})))}};function le({field:e,nolabel:t,onChange:n}){const{name:o,label:l,choices:r,defaultValue:i,value:u,type:_,...a}=e;function s(e){n(e.target.value)}return c("div",{class:""},!t&&c("label",{class:"capitalize block"},l||o),function(){const t=oe[`${e.type}`];if(t)return c(t,{field:e,onChange:n});switch(e.type){case"choice":return c("div",{className:"relative"},c("select",Q({required:!e.optional,class:"border-2 rounded text-lg leading-none h-10 w-full px-3 py-2",style:"appearance: none",defaultValue:e.value,value:e.value,onInput:s},a),c("option",{disabled:!0,value:""},"Choose ",e.name),e.choices.map((e=>c("option",{value:e},e)))),c("svg",{class:"absolute inset-y-0 my-auto right-2 w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})));case"long-text":return c("textarea",Q({required:!e.optional,class:"border-2 rounded text-lg min-h-10 w-full px-3 py-2",placeholder:e.defaultValue,rows:"5",value:e.value,onInput:s},a));default:{const t=["text","number","color","range"].includes(e.type)?e.type:"text";return c("input",Q({required:!e.optional,class:"border-2 rounded text-lg h-10 w-full px-3 py-2",type:t,value:e.value,onInput:s},a))}}}())}function re({opened:e=!1,selectedField:t,onSave:n}){const[o,l]=I(null);return R((()=>{l(JSON.parse(JSON.stringify({...t})))}),[t]),c("div",{class:`flex fixed inset-0 z-50 ${!e&&"pointer-events-none"}`},c("div",{className:`bg-black bg-opacity-25 fixed inset-0 transition ${!e&&"opacity-0"}`,onClick:()=>n(null)}),c("div",{class:`m-auto flex flex-col relative z-10 bg-white shadow-lg rounded overflow-hidden transition ${!e&&"opacity-0 transform translate-y-full"}`,style:"min-width: 500px"},c("div",{class:"py-3 px-4 border-b flex items-center justify-between"},c("h3",{class:"text-lg font-semibold capitalize"},"Edit ",o?o.label||o.type||"Field":""),c("button",{class:"focus:outline-none w-6 h-6 rounded-full p-0 flex items-center justify-center bg-gray-300",onClick:()=>n(null)},c("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),c("div",{class:"p-4 flex-1 overflow-y-auto",style:"max-height: 100vh"},c("form",{action:"#",onSubmit:function(e){e.preventDefault(),n(o.value)}},o&&c(le,{field:o,onChange:function(e){l({...o,value:e})}}),c("div",{className:"mt-3 flex justify-end"},c("button",{type:"submit",class:"px-5 py-1 border-2 border-red-500 uppercase text-xs tracking-wide font-semibold bg-red-500 text-white rounded-full"},"Save"))))))}function ie({articulateRef:e}){const[t,n]=I(!1),[o,l]=I(null);return e.editField=(t,o=(e=>{}))=>{e.onSaveField=o;l({optional:!0,...t}),setTimeout((()=>{n(!0)}))},c(Y.Provider,{value:e},c(re,{selectedField:o,opened:t,onSave:function(t){e.onSaveField(t),n(!1)}}))}return function(t={}){const{extend:n,...o}=t,r={...o};for(const[e,t]of Object.entries(r))n&&n[e]?Array.isArray(t)?this[e]=[...t,...n[e]]:this[e]="object"==typeof t?{...t,...n[e]}:t:this[e]=t;let _=document.createElement("div");document.body.appendChild(_),function(t,n,o){var r,_,a;e.__&&e.__(t,n),_=(r=o===l)?null:o&&o.__k||n.__k,t=c(f,null,[t]),a=[],P(n,(r?n:o||n).__k=t,_||i,i,void 0!==n.ownerSVGElement,o&&!r?[o]:_?null:n.childNodes.length?u.slice.call(n.childNodes):null,a,o||i,r),N(a,t)}(c(ie,{articulateRef:this}),_)}}));
